{"ast":null,"code":"module.exports = Tokenizer;\nvar decodeCodePoint = require(\"entities/lib/decode_codepoint.js\");\nvar entityMap = require(\"entities/maps/entities.json\");\nvar legacyMap = require(\"entities/maps/legacy.json\");\nvar xmlMap = require(\"entities/maps/xml.json\");\nvar i = 0;\nvar TEXT = i++;\nvar BEFORE_TAG_NAME = i++; //after <\nvar IN_TAG_NAME = i++;\nvar IN_SELF_CLOSING_TAG = i++;\nvar BEFORE_CLOSING_TAG_NAME = i++;\nvar IN_CLOSING_TAG_NAME = i++;\nvar AFTER_CLOSING_TAG_NAME = i++;\n\n//attributes\nvar BEFORE_ATTRIBUTE_NAME = i++;\nvar IN_ATTRIBUTE_NAME = i++;\nvar AFTER_ATTRIBUTE_NAME = i++;\nvar BEFORE_ATTRIBUTE_VALUE = i++;\nvar IN_ATTRIBUTE_VALUE_DQ = i++; // \"\nvar IN_ATTRIBUTE_VALUE_SQ = i++; // '\nvar IN_ATTRIBUTE_VALUE_NQ = i++;\n\n//declarations\nvar BEFORE_DECLARATION = i++; // !\nvar IN_DECLARATION = i++;\n\n//processing instructions\nvar IN_PROCESSING_INSTRUCTION = i++; // ?\n\n//comments\nvar BEFORE_COMMENT = i++;\nvar IN_COMMENT = i++;\nvar AFTER_COMMENT_1 = i++;\nvar AFTER_COMMENT_2 = i++;\n\n//cdata\nvar BEFORE_CDATA_1 = i++; // [\nvar BEFORE_CDATA_2 = i++; // C\nvar BEFORE_CDATA_3 = i++; // D\nvar BEFORE_CDATA_4 = i++; // A\nvar BEFORE_CDATA_5 = i++; // T\nvar BEFORE_CDATA_6 = i++; // A\nvar IN_CDATA = i++; // [\nvar AFTER_CDATA_1 = i++; // ]\nvar AFTER_CDATA_2 = i++; // ]\n\n//special tags\nvar BEFORE_SPECIAL = i++; //S\nvar BEFORE_SPECIAL_END = i++; //S\n\nvar BEFORE_SCRIPT_1 = i++; //C\nvar BEFORE_SCRIPT_2 = i++; //R\nvar BEFORE_SCRIPT_3 = i++; //I\nvar BEFORE_SCRIPT_4 = i++; //P\nvar BEFORE_SCRIPT_5 = i++; //T\nvar AFTER_SCRIPT_1 = i++; //C\nvar AFTER_SCRIPT_2 = i++; //R\nvar AFTER_SCRIPT_3 = i++; //I\nvar AFTER_SCRIPT_4 = i++; //P\nvar AFTER_SCRIPT_5 = i++; //T\n\nvar BEFORE_STYLE_1 = i++; //T\nvar BEFORE_STYLE_2 = i++; //Y\nvar BEFORE_STYLE_3 = i++; //L\nvar BEFORE_STYLE_4 = i++; //E\nvar AFTER_STYLE_1 = i++; //T\nvar AFTER_STYLE_2 = i++; //Y\nvar AFTER_STYLE_3 = i++; //L\nvar AFTER_STYLE_4 = i++; //E\n\nvar BEFORE_ENTITY = i++; //&\nvar BEFORE_NUMERIC_ENTITY = i++; //#\nvar IN_NAMED_ENTITY = i++;\nvar IN_NUMERIC_ENTITY = i++;\nvar IN_HEX_ENTITY = i++; //X\n\nvar j = 0;\nvar SPECIAL_NONE = j++;\nvar SPECIAL_SCRIPT = j++;\nvar SPECIAL_STYLE = j++;\nfunction whitespace(c) {\n  return c === \" \" || c === \"\\n\" || c === \"\\t\" || c === \"\\f\" || c === \"\\r\";\n}\nfunction ifElseState(upper, SUCCESS, FAILURE) {\n  var lower = upper.toLowerCase();\n  if (upper === lower) {\n    return function (c) {\n      if (c === lower) {\n        this._state = SUCCESS;\n      } else {\n        this._state = FAILURE;\n        this._index--;\n      }\n    };\n  } else {\n    return function (c) {\n      if (c === lower || c === upper) {\n        this._state = SUCCESS;\n      } else {\n        this._state = FAILURE;\n        this._index--;\n      }\n    };\n  }\n}\nfunction consumeSpecialNameChar(upper, NEXT_STATE) {\n  var lower = upper.toLowerCase();\n  return function (c) {\n    if (c === lower || c === upper) {\n      this._state = NEXT_STATE;\n    } else {\n      this._state = IN_TAG_NAME;\n      this._index--; //consume the token again\n    }\n  };\n}\n\nfunction Tokenizer(options, cbs) {\n  this._state = TEXT;\n  this._buffer = \"\";\n  this._sectionStart = 0;\n  this._index = 0;\n  this._bufferOffset = 0; //chars removed from _buffer\n  this._baseState = TEXT;\n  this._special = SPECIAL_NONE;\n  this._cbs = cbs;\n  this._running = true;\n  this._ended = false;\n  this._xmlMode = !!(options && options.xmlMode);\n  this._decodeEntities = !!(options && options.decodeEntities);\n}\nTokenizer.prototype._stateText = function (c) {\n  if (c === \"<\") {\n    if (this._index > this._sectionStart) {\n      this._cbs.ontext(this._getSection());\n    }\n    this._state = BEFORE_TAG_NAME;\n    this._sectionStart = this._index;\n  } else if (this._decodeEntities && this._special === SPECIAL_NONE && c === \"&\") {\n    if (this._index > this._sectionStart) {\n      this._cbs.ontext(this._getSection());\n    }\n    this._baseState = TEXT;\n    this._state = BEFORE_ENTITY;\n    this._sectionStart = this._index;\n  }\n};\nTokenizer.prototype._stateBeforeTagName = function (c) {\n  if (c === \"/\") {\n    this._state = BEFORE_CLOSING_TAG_NAME;\n  } else if (c === \"<\") {\n    this._cbs.ontext(this._getSection());\n    this._sectionStart = this._index;\n  } else if (c === \">\" || this._special !== SPECIAL_NONE || whitespace(c)) {\n    this._state = TEXT;\n  } else if (c === \"!\") {\n    this._state = BEFORE_DECLARATION;\n    this._sectionStart = this._index + 1;\n  } else if (c === \"?\") {\n    this._state = IN_PROCESSING_INSTRUCTION;\n    this._sectionStart = this._index + 1;\n  } else {\n    this._state = !this._xmlMode && (c === \"s\" || c === \"S\") ? BEFORE_SPECIAL : IN_TAG_NAME;\n    this._sectionStart = this._index;\n  }\n};\nTokenizer.prototype._stateInTagName = function (c) {\n  if (c === \"/\" || c === \">\" || whitespace(c)) {\n    this._emitToken(\"onopentagname\");\n    this._state = BEFORE_ATTRIBUTE_NAME;\n    this._index--;\n  }\n};\nTokenizer.prototype._stateBeforeCloseingTagName = function (c) {\n  if (whitespace(c)) ;else if (c === \">\") {\n    this._state = TEXT;\n  } else if (this._special !== SPECIAL_NONE) {\n    if (c === \"s\" || c === \"S\") {\n      this._state = BEFORE_SPECIAL_END;\n    } else {\n      this._state = TEXT;\n      this._index--;\n    }\n  } else {\n    this._state = IN_CLOSING_TAG_NAME;\n    this._sectionStart = this._index;\n  }\n};\nTokenizer.prototype._stateInCloseingTagName = function (c) {\n  if (c === \">\" || whitespace(c)) {\n    this._emitToken(\"onclosetag\");\n    this._state = AFTER_CLOSING_TAG_NAME;\n    this._index--;\n  }\n};\nTokenizer.prototype._stateAfterCloseingTagName = function (c) {\n  //skip everything until \">\"\n  if (c === \">\") {\n    this._state = TEXT;\n    this._sectionStart = this._index + 1;\n  }\n};\nTokenizer.prototype._stateBeforeAttributeName = function (c) {\n  if (c === \">\") {\n    this._cbs.onopentagend();\n    this._state = TEXT;\n    this._sectionStart = this._index + 1;\n  } else if (c === \"/\") {\n    this._state = IN_SELF_CLOSING_TAG;\n  } else if (!whitespace(c)) {\n    this._state = IN_ATTRIBUTE_NAME;\n    this._sectionStart = this._index;\n  }\n};\nTokenizer.prototype._stateInSelfClosingTag = function (c) {\n  if (c === \">\") {\n    this._cbs.onselfclosingtag();\n    this._state = TEXT;\n    this._sectionStart = this._index + 1;\n  } else if (!whitespace(c)) {\n    this._state = BEFORE_ATTRIBUTE_NAME;\n    this._index--;\n  }\n};\nTokenizer.prototype._stateInAttributeName = function (c) {\n  if (c === \"=\" || c === \"/\" || c === \">\" || whitespace(c)) {\n    this._cbs.onattribname(this._getSection());\n    this._sectionStart = -1;\n    this._state = AFTER_ATTRIBUTE_NAME;\n    this._index--;\n  }\n};\nTokenizer.prototype._stateAfterAttributeName = function (c) {\n  if (c === \"=\") {\n    this._state = BEFORE_ATTRIBUTE_VALUE;\n  } else if (c === \"/\" || c === \">\") {\n    this._cbs.onattribend();\n    this._state = BEFORE_ATTRIBUTE_NAME;\n    this._index--;\n  } else if (!whitespace(c)) {\n    this._cbs.onattribend();\n    this._state = IN_ATTRIBUTE_NAME;\n    this._sectionStart = this._index;\n  }\n};\nTokenizer.prototype._stateBeforeAttributeValue = function (c) {\n  if (c === '\"') {\n    this._state = IN_ATTRIBUTE_VALUE_DQ;\n    this._sectionStart = this._index + 1;\n  } else if (c === \"'\") {\n    this._state = IN_ATTRIBUTE_VALUE_SQ;\n    this._sectionStart = this._index + 1;\n  } else if (!whitespace(c)) {\n    this._state = IN_ATTRIBUTE_VALUE_NQ;\n    this._sectionStart = this._index;\n    this._index--; //reconsume token\n  }\n};\n\nTokenizer.prototype._stateInAttributeValueDoubleQuotes = function (c) {\n  if (c === '\"') {\n    this._emitToken(\"onattribdata\");\n    this._cbs.onattribend();\n    this._state = BEFORE_ATTRIBUTE_NAME;\n  } else if (this._decodeEntities && c === \"&\") {\n    this._emitToken(\"onattribdata\");\n    this._baseState = this._state;\n    this._state = BEFORE_ENTITY;\n    this._sectionStart = this._index;\n  }\n};\nTokenizer.prototype._stateInAttributeValueSingleQuotes = function (c) {\n  if (c === \"'\") {\n    this._emitToken(\"onattribdata\");\n    this._cbs.onattribend();\n    this._state = BEFORE_ATTRIBUTE_NAME;\n  } else if (this._decodeEntities && c === \"&\") {\n    this._emitToken(\"onattribdata\");\n    this._baseState = this._state;\n    this._state = BEFORE_ENTITY;\n    this._sectionStart = this._index;\n  }\n};\nTokenizer.prototype._stateInAttributeValueNoQuotes = function (c) {\n  if (whitespace(c) || c === \">\") {\n    this._emitToken(\"onattribdata\");\n    this._cbs.onattribend();\n    this._state = BEFORE_ATTRIBUTE_NAME;\n    this._index--;\n  } else if (this._decodeEntities && c === \"&\") {\n    this._emitToken(\"onattribdata\");\n    this._baseState = this._state;\n    this._state = BEFORE_ENTITY;\n    this._sectionStart = this._index;\n  }\n};\nTokenizer.prototype._stateBeforeDeclaration = function (c) {\n  this._state = c === \"[\" ? BEFORE_CDATA_1 : c === \"-\" ? BEFORE_COMMENT : IN_DECLARATION;\n};\nTokenizer.prototype._stateInDeclaration = function (c) {\n  if (c === \">\") {\n    this._cbs.ondeclaration(this._getSection());\n    this._state = TEXT;\n    this._sectionStart = this._index + 1;\n  }\n};\nTokenizer.prototype._stateInProcessingInstruction = function (c) {\n  if (c === \">\") {\n    this._cbs.onprocessinginstruction(this._getSection());\n    this._state = TEXT;\n    this._sectionStart = this._index + 1;\n  }\n};\nTokenizer.prototype._stateBeforeComment = function (c) {\n  if (c === \"-\") {\n    this._state = IN_COMMENT;\n    this._sectionStart = this._index + 1;\n  } else {\n    this._state = IN_DECLARATION;\n  }\n};\nTokenizer.prototype._stateInComment = function (c) {\n  if (c === \"-\") this._state = AFTER_COMMENT_1;\n};\nTokenizer.prototype._stateAfterComment1 = function (c) {\n  if (c === \"-\") {\n    this._state = AFTER_COMMENT_2;\n  } else {\n    this._state = IN_COMMENT;\n  }\n};\nTokenizer.prototype._stateAfterComment2 = function (c) {\n  if (c === \">\") {\n    //remove 2 trailing chars\n    this._cbs.oncomment(this._buffer.substring(this._sectionStart, this._index - 2));\n    this._state = TEXT;\n    this._sectionStart = this._index + 1;\n  } else if (c !== \"-\") {\n    this._state = IN_COMMENT;\n  }\n  // else: stay in AFTER_COMMENT_2 (`--->`)\n};\n\nTokenizer.prototype._stateBeforeCdata1 = ifElseState(\"C\", BEFORE_CDATA_2, IN_DECLARATION);\nTokenizer.prototype._stateBeforeCdata2 = ifElseState(\"D\", BEFORE_CDATA_3, IN_DECLARATION);\nTokenizer.prototype._stateBeforeCdata3 = ifElseState(\"A\", BEFORE_CDATA_4, IN_DECLARATION);\nTokenizer.prototype._stateBeforeCdata4 = ifElseState(\"T\", BEFORE_CDATA_5, IN_DECLARATION);\nTokenizer.prototype._stateBeforeCdata5 = ifElseState(\"A\", BEFORE_CDATA_6, IN_DECLARATION);\nTokenizer.prototype._stateBeforeCdata6 = function (c) {\n  if (c === \"[\") {\n    this._state = IN_CDATA;\n    this._sectionStart = this._index + 1;\n  } else {\n    this._state = IN_DECLARATION;\n    this._index--;\n  }\n};\nTokenizer.prototype._stateInCdata = function (c) {\n  if (c === \"]\") this._state = AFTER_CDATA_1;\n};\nTokenizer.prototype._stateAfterCdata1 = function (c) {\n  if (c === \"]\") this._state = AFTER_CDATA_2;else this._state = IN_CDATA;\n};\nTokenizer.prototype._stateAfterCdata2 = function (c) {\n  if (c === \">\") {\n    //remove 2 trailing chars\n    this._cbs.oncdata(this._buffer.substring(this._sectionStart, this._index - 2));\n    this._state = TEXT;\n    this._sectionStart = this._index + 1;\n  } else if (c !== \"]\") {\n    this._state = IN_CDATA;\n  }\n  //else: stay in AFTER_CDATA_2 (`]]]>`)\n};\n\nTokenizer.prototype._stateBeforeSpecial = function (c) {\n  if (c === \"c\" || c === \"C\") {\n    this._state = BEFORE_SCRIPT_1;\n  } else if (c === \"t\" || c === \"T\") {\n    this._state = BEFORE_STYLE_1;\n  } else {\n    this._state = IN_TAG_NAME;\n    this._index--; //consume the token again\n  }\n};\n\nTokenizer.prototype._stateBeforeSpecialEnd = function (c) {\n  if (this._special === SPECIAL_SCRIPT && (c === \"c\" || c === \"C\")) {\n    this._state = AFTER_SCRIPT_1;\n  } else if (this._special === SPECIAL_STYLE && (c === \"t\" || c === \"T\")) {\n    this._state = AFTER_STYLE_1;\n  } else this._state = TEXT;\n};\nTokenizer.prototype._stateBeforeScript1 = consumeSpecialNameChar(\"R\", BEFORE_SCRIPT_2);\nTokenizer.prototype._stateBeforeScript2 = consumeSpecialNameChar(\"I\", BEFORE_SCRIPT_3);\nTokenizer.prototype._stateBeforeScript3 = consumeSpecialNameChar(\"P\", BEFORE_SCRIPT_4);\nTokenizer.prototype._stateBeforeScript4 = consumeSpecialNameChar(\"T\", BEFORE_SCRIPT_5);\nTokenizer.prototype._stateBeforeScript5 = function (c) {\n  if (c === \"/\" || c === \">\" || whitespace(c)) {\n    this._special = SPECIAL_SCRIPT;\n  }\n  this._state = IN_TAG_NAME;\n  this._index--; //consume the token again\n};\n\nTokenizer.prototype._stateAfterScript1 = ifElseState(\"R\", AFTER_SCRIPT_2, TEXT);\nTokenizer.prototype._stateAfterScript2 = ifElseState(\"I\", AFTER_SCRIPT_3, TEXT);\nTokenizer.prototype._stateAfterScript3 = ifElseState(\"P\", AFTER_SCRIPT_4, TEXT);\nTokenizer.prototype._stateAfterScript4 = ifElseState(\"T\", AFTER_SCRIPT_5, TEXT);\nTokenizer.prototype._stateAfterScript5 = function (c) {\n  if (c === \">\" || whitespace(c)) {\n    this._special = SPECIAL_NONE;\n    this._state = IN_CLOSING_TAG_NAME;\n    this._sectionStart = this._index - 6;\n    this._index--; //reconsume the token\n  } else this._state = TEXT;\n};\nTokenizer.prototype._stateBeforeStyle1 = consumeSpecialNameChar(\"Y\", BEFORE_STYLE_2);\nTokenizer.prototype._stateBeforeStyle2 = consumeSpecialNameChar(\"L\", BEFORE_STYLE_3);\nTokenizer.prototype._stateBeforeStyle3 = consumeSpecialNameChar(\"E\", BEFORE_STYLE_4);\nTokenizer.prototype._stateBeforeStyle4 = function (c) {\n  if (c === \"/\" || c === \">\" || whitespace(c)) {\n    this._special = SPECIAL_STYLE;\n  }\n  this._state = IN_TAG_NAME;\n  this._index--; //consume the token again\n};\n\nTokenizer.prototype._stateAfterStyle1 = ifElseState(\"Y\", AFTER_STYLE_2, TEXT);\nTokenizer.prototype._stateAfterStyle2 = ifElseState(\"L\", AFTER_STYLE_3, TEXT);\nTokenizer.prototype._stateAfterStyle3 = ifElseState(\"E\", AFTER_STYLE_4, TEXT);\nTokenizer.prototype._stateAfterStyle4 = function (c) {\n  if (c === \">\" || whitespace(c)) {\n    this._special = SPECIAL_NONE;\n    this._state = IN_CLOSING_TAG_NAME;\n    this._sectionStart = this._index - 5;\n    this._index--; //reconsume the token\n  } else this._state = TEXT;\n};\nTokenizer.prototype._stateBeforeEntity = ifElseState(\"#\", BEFORE_NUMERIC_ENTITY, IN_NAMED_ENTITY);\nTokenizer.prototype._stateBeforeNumericEntity = ifElseState(\"X\", IN_HEX_ENTITY, IN_NUMERIC_ENTITY);\n\n//for entities terminated with a semicolon\nTokenizer.prototype._parseNamedEntityStrict = function () {\n  //offset = 1\n  if (this._sectionStart + 1 < this._index) {\n    var entity = this._buffer.substring(this._sectionStart + 1, this._index),\n      map = this._xmlMode ? xmlMap : entityMap;\n    if (map.hasOwnProperty(entity)) {\n      this._emitPartial(map[entity]);\n      this._sectionStart = this._index + 1;\n    }\n  }\n};\n\n//parses legacy entities (without trailing semicolon)\nTokenizer.prototype._parseLegacyEntity = function () {\n  var start = this._sectionStart + 1,\n    limit = this._index - start;\n  if (limit > 6) limit = 6; //the max length of legacy entities is 6\n\n  while (limit >= 2) {\n    //the min length of legacy entities is 2\n    var entity = this._buffer.substr(start, limit);\n    if (legacyMap.hasOwnProperty(entity)) {\n      this._emitPartial(legacyMap[entity]);\n      this._sectionStart += limit + 1;\n      return;\n    } else {\n      limit--;\n    }\n  }\n};\nTokenizer.prototype._stateInNamedEntity = function (c) {\n  if (c === \";\") {\n    this._parseNamedEntityStrict();\n    if (this._sectionStart + 1 < this._index && !this._xmlMode) {\n      this._parseLegacyEntity();\n    }\n    this._state = this._baseState;\n  } else if ((c < \"a\" || c > \"z\") && (c < \"A\" || c > \"Z\") && (c < \"0\" || c > \"9\")) {\n    if (this._xmlMode) ;else if (this._sectionStart + 1 === this._index) ;else if (this._baseState !== TEXT) {\n      if (c !== \"=\") {\n        this._parseNamedEntityStrict();\n      }\n    } else {\n      this._parseLegacyEntity();\n    }\n    this._state = this._baseState;\n    this._index--;\n  }\n};\nTokenizer.prototype._decodeNumericEntity = function (offset, base) {\n  var sectionStart = this._sectionStart + offset;\n  if (sectionStart !== this._index) {\n    //parse entity\n    var entity = this._buffer.substring(sectionStart, this._index);\n    var parsed = parseInt(entity, base);\n    this._emitPartial(decodeCodePoint(parsed));\n    this._sectionStart = this._index;\n  } else {\n    this._sectionStart--;\n  }\n  this._state = this._baseState;\n};\nTokenizer.prototype._stateInNumericEntity = function (c) {\n  if (c === \";\") {\n    this._decodeNumericEntity(2, 10);\n    this._sectionStart++;\n  } else if (c < \"0\" || c > \"9\") {\n    if (!this._xmlMode) {\n      this._decodeNumericEntity(2, 10);\n    } else {\n      this._state = this._baseState;\n    }\n    this._index--;\n  }\n};\nTokenizer.prototype._stateInHexEntity = function (c) {\n  if (c === \";\") {\n    this._decodeNumericEntity(3, 16);\n    this._sectionStart++;\n  } else if ((c < \"a\" || c > \"f\") && (c < \"A\" || c > \"F\") && (c < \"0\" || c > \"9\")) {\n    if (!this._xmlMode) {\n      this._decodeNumericEntity(3, 16);\n    } else {\n      this._state = this._baseState;\n    }\n    this._index--;\n  }\n};\nTokenizer.prototype._cleanup = function () {\n  if (this._sectionStart < 0) {\n    this._buffer = \"\";\n    this._bufferOffset += this._index;\n    this._index = 0;\n  } else if (this._running) {\n    if (this._state === TEXT) {\n      if (this._sectionStart !== this._index) {\n        this._cbs.ontext(this._buffer.substr(this._sectionStart));\n      }\n      this._buffer = \"\";\n      this._bufferOffset += this._index;\n      this._index = 0;\n    } else if (this._sectionStart === this._index) {\n      //the section just started\n      this._buffer = \"\";\n      this._bufferOffset += this._index;\n      this._index = 0;\n    } else {\n      //remove everything unnecessary\n      this._buffer = this._buffer.substr(this._sectionStart);\n      this._index -= this._sectionStart;\n      this._bufferOffset += this._sectionStart;\n    }\n    this._sectionStart = 0;\n  }\n};\n\n//TODO make events conditional\nTokenizer.prototype.write = function (chunk) {\n  if (this._ended) this._cbs.onerror(Error(\".write() after done!\"));\n  this._buffer += chunk;\n  this._parse();\n};\nTokenizer.prototype._parse = function () {\n  while (this._index < this._buffer.length && this._running) {\n    var c = this._buffer.charAt(this._index);\n    if (this._state === TEXT) {\n      this._stateText(c);\n    } else if (this._state === BEFORE_TAG_NAME) {\n      this._stateBeforeTagName(c);\n    } else if (this._state === IN_TAG_NAME) {\n      this._stateInTagName(c);\n    } else if (this._state === BEFORE_CLOSING_TAG_NAME) {\n      this._stateBeforeCloseingTagName(c);\n    } else if (this._state === IN_CLOSING_TAG_NAME) {\n      this._stateInCloseingTagName(c);\n    } else if (this._state === AFTER_CLOSING_TAG_NAME) {\n      this._stateAfterCloseingTagName(c);\n    } else if (this._state === IN_SELF_CLOSING_TAG) {\n      this._stateInSelfClosingTag(c);\n    } else if (this._state === BEFORE_ATTRIBUTE_NAME) {\n      /*\n      *\tattributes\n      */\n      this._stateBeforeAttributeName(c);\n    } else if (this._state === IN_ATTRIBUTE_NAME) {\n      this._stateInAttributeName(c);\n    } else if (this._state === AFTER_ATTRIBUTE_NAME) {\n      this._stateAfterAttributeName(c);\n    } else if (this._state === BEFORE_ATTRIBUTE_VALUE) {\n      this._stateBeforeAttributeValue(c);\n    } else if (this._state === IN_ATTRIBUTE_VALUE_DQ) {\n      this._stateInAttributeValueDoubleQuotes(c);\n    } else if (this._state === IN_ATTRIBUTE_VALUE_SQ) {\n      this._stateInAttributeValueSingleQuotes(c);\n    } else if (this._state === IN_ATTRIBUTE_VALUE_NQ) {\n      this._stateInAttributeValueNoQuotes(c);\n    } else if (this._state === BEFORE_DECLARATION) {\n      /*\n      *\tdeclarations\n      */\n      this._stateBeforeDeclaration(c);\n    } else if (this._state === IN_DECLARATION) {\n      this._stateInDeclaration(c);\n    } else if (this._state === IN_PROCESSING_INSTRUCTION) {\n      /*\n      *\tprocessing instructions\n      */\n      this._stateInProcessingInstruction(c);\n    } else if (this._state === BEFORE_COMMENT) {\n      /*\n      *\tcomments\n      */\n      this._stateBeforeComment(c);\n    } else if (this._state === IN_COMMENT) {\n      this._stateInComment(c);\n    } else if (this._state === AFTER_COMMENT_1) {\n      this._stateAfterComment1(c);\n    } else if (this._state === AFTER_COMMENT_2) {\n      this._stateAfterComment2(c);\n    } else if (this._state === BEFORE_CDATA_1) {\n      /*\n      *\tcdata\n      */\n      this._stateBeforeCdata1(c);\n    } else if (this._state === BEFORE_CDATA_2) {\n      this._stateBeforeCdata2(c);\n    } else if (this._state === BEFORE_CDATA_3) {\n      this._stateBeforeCdata3(c);\n    } else if (this._state === BEFORE_CDATA_4) {\n      this._stateBeforeCdata4(c);\n    } else if (this._state === BEFORE_CDATA_5) {\n      this._stateBeforeCdata5(c);\n    } else if (this._state === BEFORE_CDATA_6) {\n      this._stateBeforeCdata6(c);\n    } else if (this._state === IN_CDATA) {\n      this._stateInCdata(c);\n    } else if (this._state === AFTER_CDATA_1) {\n      this._stateAfterCdata1(c);\n    } else if (this._state === AFTER_CDATA_2) {\n      this._stateAfterCdata2(c);\n    } else if (this._state === BEFORE_SPECIAL) {\n      /*\n      * special tags\n      */\n      this._stateBeforeSpecial(c);\n    } else if (this._state === BEFORE_SPECIAL_END) {\n      this._stateBeforeSpecialEnd(c);\n    } else if (this._state === BEFORE_SCRIPT_1) {\n      /*\n      * script\n      */\n      this._stateBeforeScript1(c);\n    } else if (this._state === BEFORE_SCRIPT_2) {\n      this._stateBeforeScript2(c);\n    } else if (this._state === BEFORE_SCRIPT_3) {\n      this._stateBeforeScript3(c);\n    } else if (this._state === BEFORE_SCRIPT_4) {\n      this._stateBeforeScript4(c);\n    } else if (this._state === BEFORE_SCRIPT_5) {\n      this._stateBeforeScript5(c);\n    } else if (this._state === AFTER_SCRIPT_1) {\n      this._stateAfterScript1(c);\n    } else if (this._state === AFTER_SCRIPT_2) {\n      this._stateAfterScript2(c);\n    } else if (this._state === AFTER_SCRIPT_3) {\n      this._stateAfterScript3(c);\n    } else if (this._state === AFTER_SCRIPT_4) {\n      this._stateAfterScript4(c);\n    } else if (this._state === AFTER_SCRIPT_5) {\n      this._stateAfterScript5(c);\n    } else if (this._state === BEFORE_STYLE_1) {\n      /*\n      * style\n      */\n      this._stateBeforeStyle1(c);\n    } else if (this._state === BEFORE_STYLE_2) {\n      this._stateBeforeStyle2(c);\n    } else if (this._state === BEFORE_STYLE_3) {\n      this._stateBeforeStyle3(c);\n    } else if (this._state === BEFORE_STYLE_4) {\n      this._stateBeforeStyle4(c);\n    } else if (this._state === AFTER_STYLE_1) {\n      this._stateAfterStyle1(c);\n    } else if (this._state === AFTER_STYLE_2) {\n      this._stateAfterStyle2(c);\n    } else if (this._state === AFTER_STYLE_3) {\n      this._stateAfterStyle3(c);\n    } else if (this._state === AFTER_STYLE_4) {\n      this._stateAfterStyle4(c);\n    } else if (this._state === BEFORE_ENTITY) {\n      /*\n      * entities\n      */\n      this._stateBeforeEntity(c);\n    } else if (this._state === BEFORE_NUMERIC_ENTITY) {\n      this._stateBeforeNumericEntity(c);\n    } else if (this._state === IN_NAMED_ENTITY) {\n      this._stateInNamedEntity(c);\n    } else if (this._state === IN_NUMERIC_ENTITY) {\n      this._stateInNumericEntity(c);\n    } else if (this._state === IN_HEX_ENTITY) {\n      this._stateInHexEntity(c);\n    } else {\n      this._cbs.onerror(Error(\"unknown _state\"), this._state);\n    }\n    this._index++;\n  }\n  this._cleanup();\n};\nTokenizer.prototype.pause = function () {\n  this._running = false;\n};\nTokenizer.prototype.resume = function () {\n  this._running = true;\n  if (this._index < this._buffer.length) {\n    this._parse();\n  }\n  if (this._ended) {\n    this._finish();\n  }\n};\nTokenizer.prototype.end = function (chunk) {\n  if (this._ended) this._cbs.onerror(Error(\".end() after done!\"));\n  if (chunk) this.write(chunk);\n  this._ended = true;\n  if (this._running) this._finish();\n};\nTokenizer.prototype._finish = function () {\n  //if there is remaining data, emit it in a reasonable way\n  if (this._sectionStart < this._index) {\n    this._handleTrailingData();\n  }\n  this._cbs.onend();\n};\nTokenizer.prototype._handleTrailingData = function () {\n  var data = this._buffer.substr(this._sectionStart);\n  if (this._state === IN_CDATA || this._state === AFTER_CDATA_1 || this._state === AFTER_CDATA_2) {\n    this._cbs.oncdata(data);\n  } else if (this._state === IN_COMMENT || this._state === AFTER_COMMENT_1 || this._state === AFTER_COMMENT_2) {\n    this._cbs.oncomment(data);\n  } else if (this._state === IN_NAMED_ENTITY && !this._xmlMode) {\n    this._parseLegacyEntity();\n    if (this._sectionStart < this._index) {\n      this._state = this._baseState;\n      this._handleTrailingData();\n    }\n  } else if (this._state === IN_NUMERIC_ENTITY && !this._xmlMode) {\n    this._decodeNumericEntity(2, 10);\n    if (this._sectionStart < this._index) {\n      this._state = this._baseState;\n      this._handleTrailingData();\n    }\n  } else if (this._state === IN_HEX_ENTITY && !this._xmlMode) {\n    this._decodeNumericEntity(3, 16);\n    if (this._sectionStart < this._index) {\n      this._state = this._baseState;\n      this._handleTrailingData();\n    }\n  } else if (this._state !== IN_TAG_NAME && this._state !== BEFORE_ATTRIBUTE_NAME && this._state !== BEFORE_ATTRIBUTE_VALUE && this._state !== AFTER_ATTRIBUTE_NAME && this._state !== IN_ATTRIBUTE_NAME && this._state !== IN_ATTRIBUTE_VALUE_SQ && this._state !== IN_ATTRIBUTE_VALUE_DQ && this._state !== IN_ATTRIBUTE_VALUE_NQ && this._state !== IN_CLOSING_TAG_NAME) {\n    this._cbs.ontext(data);\n  }\n  //else, ignore remaining data\n  //TODO add a way to remove current tag\n};\n\nTokenizer.prototype.reset = function () {\n  Tokenizer.call(this, {\n    xmlMode: this._xmlMode,\n    decodeEntities: this._decodeEntities\n  }, this._cbs);\n};\nTokenizer.prototype.getAbsoluteIndex = function () {\n  return this._bufferOffset + this._index;\n};\nTokenizer.prototype._getSection = function () {\n  return this._buffer.substring(this._sectionStart, this._index);\n};\nTokenizer.prototype._emitToken = function (name) {\n  this._cbs[name](this._getSection());\n  this._sectionStart = -1;\n};\nTokenizer.prototype._emitPartial = function (value) {\n  if (this._baseState !== TEXT) {\n    this._cbs.onattribdata(value); //TODO implement the new event\n  } else {\n    this._cbs.ontext(value);\n  }\n};","map":{"version":3,"names":["module","exports","Tokenizer","decodeCodePoint","require","entityMap","legacyMap","xmlMap","i","TEXT","BEFORE_TAG_NAME","IN_TAG_NAME","IN_SELF_CLOSING_TAG","BEFORE_CLOSING_TAG_NAME","IN_CLOSING_TAG_NAME","AFTER_CLOSING_TAG_NAME","BEFORE_ATTRIBUTE_NAME","IN_ATTRIBUTE_NAME","AFTER_ATTRIBUTE_NAME","BEFORE_ATTRIBUTE_VALUE","IN_ATTRIBUTE_VALUE_DQ","IN_ATTRIBUTE_VALUE_SQ","IN_ATTRIBUTE_VALUE_NQ","BEFORE_DECLARATION","IN_DECLARATION","IN_PROCESSING_INSTRUCTION","BEFORE_COMMENT","IN_COMMENT","AFTER_COMMENT_1","AFTER_COMMENT_2","BEFORE_CDATA_1","BEFORE_CDATA_2","BEFORE_CDATA_3","BEFORE_CDATA_4","BEFORE_CDATA_5","BEFORE_CDATA_6","IN_CDATA","AFTER_CDATA_1","AFTER_CDATA_2","BEFORE_SPECIAL","BEFORE_SPECIAL_END","BEFORE_SCRIPT_1","BEFORE_SCRIPT_2","BEFORE_SCRIPT_3","BEFORE_SCRIPT_4","BEFORE_SCRIPT_5","AFTER_SCRIPT_1","AFTER_SCRIPT_2","AFTER_SCRIPT_3","AFTER_SCRIPT_4","AFTER_SCRIPT_5","BEFORE_STYLE_1","BEFORE_STYLE_2","BEFORE_STYLE_3","BEFORE_STYLE_4","AFTER_STYLE_1","AFTER_STYLE_2","AFTER_STYLE_3","AFTER_STYLE_4","BEFORE_ENTITY","BEFORE_NUMERIC_ENTITY","IN_NAMED_ENTITY","IN_NUMERIC_ENTITY","IN_HEX_ENTITY","j","SPECIAL_NONE","SPECIAL_SCRIPT","SPECIAL_STYLE","whitespace","c","ifElseState","upper","SUCCESS","FAILURE","lower","toLowerCase","_state","_index","consumeSpecialNameChar","NEXT_STATE","options","cbs","_buffer","_sectionStart","_bufferOffset","_baseState","_special","_cbs","_running","_ended","_xmlMode","xmlMode","_decodeEntities","decodeEntities","prototype","_stateText","ontext","_getSection","_stateBeforeTagName","_stateInTagName","_emitToken","_stateBeforeCloseingTagName","_stateInCloseingTagName","_stateAfterCloseingTagName","_stateBeforeAttributeName","onopentagend","_stateInSelfClosingTag","onselfclosingtag","_stateInAttributeName","onattribname","_stateAfterAttributeName","onattribend","_stateBeforeAttributeValue","_stateInAttributeValueDoubleQuotes","_stateInAttributeValueSingleQuotes","_stateInAttributeValueNoQuotes","_stateBeforeDeclaration","_stateInDeclaration","ondeclaration","_stateInProcessingInstruction","onprocessinginstruction","_stateBeforeComment","_stateInComment","_stateAfterComment1","_stateAfterComment2","oncomment","substring","_stateBeforeCdata1","_stateBeforeCdata2","_stateBeforeCdata3","_stateBeforeCdata4","_stateBeforeCdata5","_stateBeforeCdata6","_stateInCdata","_stateAfterCdata1","_stateAfterCdata2","oncdata","_stateBeforeSpecial","_stateBeforeSpecialEnd","_stateBeforeScript1","_stateBeforeScript2","_stateBeforeScript3","_stateBeforeScript4","_stateBeforeScript5","_stateAfterScript1","_stateAfterScript2","_stateAfterScript3","_stateAfterScript4","_stateAfterScript5","_stateBeforeStyle1","_stateBeforeStyle2","_stateBeforeStyle3","_stateBeforeStyle4","_stateAfterStyle1","_stateAfterStyle2","_stateAfterStyle3","_stateAfterStyle4","_stateBeforeEntity","_stateBeforeNumericEntity","_parseNamedEntityStrict","entity","map","hasOwnProperty","_emitPartial","_parseLegacyEntity","start","limit","substr","_stateInNamedEntity","_decodeNumericEntity","offset","base","sectionStart","parsed","parseInt","_stateInNumericEntity","_stateInHexEntity","_cleanup","write","chunk","onerror","Error","_parse","length","charAt","pause","resume","_finish","end","_handleTrailingData","onend","data","reset","call","getAbsoluteIndex","name","value","onattribdata"],"sources":["C:/MSGS/MSGS/src/main/webapp/node_modules/htmlparser2/lib/Tokenizer.js"],"sourcesContent":["module.exports = Tokenizer;\n\nvar decodeCodePoint = require(\"entities/lib/decode_codepoint.js\");\nvar entityMap = require(\"entities/maps/entities.json\");\nvar legacyMap = require(\"entities/maps/legacy.json\");\nvar xmlMap = require(\"entities/maps/xml.json\");\n\nvar i = 0;\n\nvar TEXT = i++;\nvar BEFORE_TAG_NAME = i++; //after <\nvar IN_TAG_NAME = i++;\nvar IN_SELF_CLOSING_TAG = i++;\nvar BEFORE_CLOSING_TAG_NAME = i++;\nvar IN_CLOSING_TAG_NAME = i++;\nvar AFTER_CLOSING_TAG_NAME = i++;\n\n//attributes\nvar BEFORE_ATTRIBUTE_NAME = i++;\nvar IN_ATTRIBUTE_NAME = i++;\nvar AFTER_ATTRIBUTE_NAME = i++;\nvar BEFORE_ATTRIBUTE_VALUE = i++;\nvar IN_ATTRIBUTE_VALUE_DQ = i++; // \"\nvar IN_ATTRIBUTE_VALUE_SQ = i++; // '\nvar IN_ATTRIBUTE_VALUE_NQ = i++;\n\n//declarations\nvar BEFORE_DECLARATION = i++; // !\nvar IN_DECLARATION = i++;\n\n//processing instructions\nvar IN_PROCESSING_INSTRUCTION = i++; // ?\n\n//comments\nvar BEFORE_COMMENT = i++;\nvar IN_COMMENT = i++;\nvar AFTER_COMMENT_1 = i++;\nvar AFTER_COMMENT_2 = i++;\n\n//cdata\nvar BEFORE_CDATA_1 = i++; // [\nvar BEFORE_CDATA_2 = i++; // C\nvar BEFORE_CDATA_3 = i++; // D\nvar BEFORE_CDATA_4 = i++; // A\nvar BEFORE_CDATA_5 = i++; // T\nvar BEFORE_CDATA_6 = i++; // A\nvar IN_CDATA = i++; // [\nvar AFTER_CDATA_1 = i++; // ]\nvar AFTER_CDATA_2 = i++; // ]\n\n//special tags\nvar BEFORE_SPECIAL = i++; //S\nvar BEFORE_SPECIAL_END = i++; //S\n\nvar BEFORE_SCRIPT_1 = i++; //C\nvar BEFORE_SCRIPT_2 = i++; //R\nvar BEFORE_SCRIPT_3 = i++; //I\nvar BEFORE_SCRIPT_4 = i++; //P\nvar BEFORE_SCRIPT_5 = i++; //T\nvar AFTER_SCRIPT_1 = i++; //C\nvar AFTER_SCRIPT_2 = i++; //R\nvar AFTER_SCRIPT_3 = i++; //I\nvar AFTER_SCRIPT_4 = i++; //P\nvar AFTER_SCRIPT_5 = i++; //T\n\nvar BEFORE_STYLE_1 = i++; //T\nvar BEFORE_STYLE_2 = i++; //Y\nvar BEFORE_STYLE_3 = i++; //L\nvar BEFORE_STYLE_4 = i++; //E\nvar AFTER_STYLE_1 = i++; //T\nvar AFTER_STYLE_2 = i++; //Y\nvar AFTER_STYLE_3 = i++; //L\nvar AFTER_STYLE_4 = i++; //E\n\nvar BEFORE_ENTITY = i++; //&\nvar BEFORE_NUMERIC_ENTITY = i++; //#\nvar IN_NAMED_ENTITY = i++;\nvar IN_NUMERIC_ENTITY = i++;\nvar IN_HEX_ENTITY = i++; //X\n\nvar j = 0;\n\nvar SPECIAL_NONE = j++;\nvar SPECIAL_SCRIPT = j++;\nvar SPECIAL_STYLE = j++;\n\nfunction whitespace(c) {\n    return c === \" \" || c === \"\\n\" || c === \"\\t\" || c === \"\\f\" || c === \"\\r\";\n}\n\nfunction ifElseState(upper, SUCCESS, FAILURE) {\n    var lower = upper.toLowerCase();\n\n    if (upper === lower) {\n        return function(c) {\n            if (c === lower) {\n                this._state = SUCCESS;\n            } else {\n                this._state = FAILURE;\n                this._index--;\n            }\n        };\n    } else {\n        return function(c) {\n            if (c === lower || c === upper) {\n                this._state = SUCCESS;\n            } else {\n                this._state = FAILURE;\n                this._index--;\n            }\n        };\n    }\n}\n\nfunction consumeSpecialNameChar(upper, NEXT_STATE) {\n    var lower = upper.toLowerCase();\n\n    return function(c) {\n        if (c === lower || c === upper) {\n            this._state = NEXT_STATE;\n        } else {\n            this._state = IN_TAG_NAME;\n            this._index--; //consume the token again\n        }\n    };\n}\n\nfunction Tokenizer(options, cbs) {\n    this._state = TEXT;\n    this._buffer = \"\";\n    this._sectionStart = 0;\n    this._index = 0;\n    this._bufferOffset = 0; //chars removed from _buffer\n    this._baseState = TEXT;\n    this._special = SPECIAL_NONE;\n    this._cbs = cbs;\n    this._running = true;\n    this._ended = false;\n    this._xmlMode = !!(options && options.xmlMode);\n    this._decodeEntities = !!(options && options.decodeEntities);\n}\n\nTokenizer.prototype._stateText = function(c) {\n    if (c === \"<\") {\n        if (this._index > this._sectionStart) {\n            this._cbs.ontext(this._getSection());\n        }\n        this._state = BEFORE_TAG_NAME;\n        this._sectionStart = this._index;\n    } else if (\n        this._decodeEntities &&\n        this._special === SPECIAL_NONE &&\n        c === \"&\"\n    ) {\n        if (this._index > this._sectionStart) {\n            this._cbs.ontext(this._getSection());\n        }\n        this._baseState = TEXT;\n        this._state = BEFORE_ENTITY;\n        this._sectionStart = this._index;\n    }\n};\n\nTokenizer.prototype._stateBeforeTagName = function(c) {\n    if (c === \"/\") {\n        this._state = BEFORE_CLOSING_TAG_NAME;\n    } else if (c === \"<\") {\n        this._cbs.ontext(this._getSection());\n        this._sectionStart = this._index;\n    } else if (c === \">\" || this._special !== SPECIAL_NONE || whitespace(c)) {\n        this._state = TEXT;\n    } else if (c === \"!\") {\n        this._state = BEFORE_DECLARATION;\n        this._sectionStart = this._index + 1;\n    } else if (c === \"?\") {\n        this._state = IN_PROCESSING_INSTRUCTION;\n        this._sectionStart = this._index + 1;\n    } else {\n        this._state =\n            !this._xmlMode && (c === \"s\" || c === \"S\")\n                ? BEFORE_SPECIAL\n                : IN_TAG_NAME;\n        this._sectionStart = this._index;\n    }\n};\n\nTokenizer.prototype._stateInTagName = function(c) {\n    if (c === \"/\" || c === \">\" || whitespace(c)) {\n        this._emitToken(\"onopentagname\");\n        this._state = BEFORE_ATTRIBUTE_NAME;\n        this._index--;\n    }\n};\n\nTokenizer.prototype._stateBeforeCloseingTagName = function(c) {\n    if (whitespace(c));\n    else if (c === \">\") {\n        this._state = TEXT;\n    } else if (this._special !== SPECIAL_NONE) {\n        if (c === \"s\" || c === \"S\") {\n            this._state = BEFORE_SPECIAL_END;\n        } else {\n            this._state = TEXT;\n            this._index--;\n        }\n    } else {\n        this._state = IN_CLOSING_TAG_NAME;\n        this._sectionStart = this._index;\n    }\n};\n\nTokenizer.prototype._stateInCloseingTagName = function(c) {\n    if (c === \">\" || whitespace(c)) {\n        this._emitToken(\"onclosetag\");\n        this._state = AFTER_CLOSING_TAG_NAME;\n        this._index--;\n    }\n};\n\nTokenizer.prototype._stateAfterCloseingTagName = function(c) {\n    //skip everything until \">\"\n    if (c === \">\") {\n        this._state = TEXT;\n        this._sectionStart = this._index + 1;\n    }\n};\n\nTokenizer.prototype._stateBeforeAttributeName = function(c) {\n    if (c === \">\") {\n        this._cbs.onopentagend();\n        this._state = TEXT;\n        this._sectionStart = this._index + 1;\n    } else if (c === \"/\") {\n        this._state = IN_SELF_CLOSING_TAG;\n    } else if (!whitespace(c)) {\n        this._state = IN_ATTRIBUTE_NAME;\n        this._sectionStart = this._index;\n    }\n};\n\nTokenizer.prototype._stateInSelfClosingTag = function(c) {\n    if (c === \">\") {\n        this._cbs.onselfclosingtag();\n        this._state = TEXT;\n        this._sectionStart = this._index + 1;\n    } else if (!whitespace(c)) {\n        this._state = BEFORE_ATTRIBUTE_NAME;\n        this._index--;\n    }\n};\n\nTokenizer.prototype._stateInAttributeName = function(c) {\n    if (c === \"=\" || c === \"/\" || c === \">\" || whitespace(c)) {\n        this._cbs.onattribname(this._getSection());\n        this._sectionStart = -1;\n        this._state = AFTER_ATTRIBUTE_NAME;\n        this._index--;\n    }\n};\n\nTokenizer.prototype._stateAfterAttributeName = function(c) {\n    if (c === \"=\") {\n        this._state = BEFORE_ATTRIBUTE_VALUE;\n    } else if (c === \"/\" || c === \">\") {\n        this._cbs.onattribend();\n        this._state = BEFORE_ATTRIBUTE_NAME;\n        this._index--;\n    } else if (!whitespace(c)) {\n        this._cbs.onattribend();\n        this._state = IN_ATTRIBUTE_NAME;\n        this._sectionStart = this._index;\n    }\n};\n\nTokenizer.prototype._stateBeforeAttributeValue = function(c) {\n    if (c === '\"') {\n        this._state = IN_ATTRIBUTE_VALUE_DQ;\n        this._sectionStart = this._index + 1;\n    } else if (c === \"'\") {\n        this._state = IN_ATTRIBUTE_VALUE_SQ;\n        this._sectionStart = this._index + 1;\n    } else if (!whitespace(c)) {\n        this._state = IN_ATTRIBUTE_VALUE_NQ;\n        this._sectionStart = this._index;\n        this._index--; //reconsume token\n    }\n};\n\nTokenizer.prototype._stateInAttributeValueDoubleQuotes = function(c) {\n    if (c === '\"') {\n        this._emitToken(\"onattribdata\");\n        this._cbs.onattribend();\n        this._state = BEFORE_ATTRIBUTE_NAME;\n    } else if (this._decodeEntities && c === \"&\") {\n        this._emitToken(\"onattribdata\");\n        this._baseState = this._state;\n        this._state = BEFORE_ENTITY;\n        this._sectionStart = this._index;\n    }\n};\n\nTokenizer.prototype._stateInAttributeValueSingleQuotes = function(c) {\n    if (c === \"'\") {\n        this._emitToken(\"onattribdata\");\n        this._cbs.onattribend();\n        this._state = BEFORE_ATTRIBUTE_NAME;\n    } else if (this._decodeEntities && c === \"&\") {\n        this._emitToken(\"onattribdata\");\n        this._baseState = this._state;\n        this._state = BEFORE_ENTITY;\n        this._sectionStart = this._index;\n    }\n};\n\nTokenizer.prototype._stateInAttributeValueNoQuotes = function(c) {\n    if (whitespace(c) || c === \">\") {\n        this._emitToken(\"onattribdata\");\n        this._cbs.onattribend();\n        this._state = BEFORE_ATTRIBUTE_NAME;\n        this._index--;\n    } else if (this._decodeEntities && c === \"&\") {\n        this._emitToken(\"onattribdata\");\n        this._baseState = this._state;\n        this._state = BEFORE_ENTITY;\n        this._sectionStart = this._index;\n    }\n};\n\nTokenizer.prototype._stateBeforeDeclaration = function(c) {\n    this._state =\n        c === \"[\"\n            ? BEFORE_CDATA_1\n            : c === \"-\"\n                ? BEFORE_COMMENT\n                : IN_DECLARATION;\n};\n\nTokenizer.prototype._stateInDeclaration = function(c) {\n    if (c === \">\") {\n        this._cbs.ondeclaration(this._getSection());\n        this._state = TEXT;\n        this._sectionStart = this._index + 1;\n    }\n};\n\nTokenizer.prototype._stateInProcessingInstruction = function(c) {\n    if (c === \">\") {\n        this._cbs.onprocessinginstruction(this._getSection());\n        this._state = TEXT;\n        this._sectionStart = this._index + 1;\n    }\n};\n\nTokenizer.prototype._stateBeforeComment = function(c) {\n    if (c === \"-\") {\n        this._state = IN_COMMENT;\n        this._sectionStart = this._index + 1;\n    } else {\n        this._state = IN_DECLARATION;\n    }\n};\n\nTokenizer.prototype._stateInComment = function(c) {\n    if (c === \"-\") this._state = AFTER_COMMENT_1;\n};\n\nTokenizer.prototype._stateAfterComment1 = function(c) {\n    if (c === \"-\") {\n        this._state = AFTER_COMMENT_2;\n    } else {\n        this._state = IN_COMMENT;\n    }\n};\n\nTokenizer.prototype._stateAfterComment2 = function(c) {\n    if (c === \">\") {\n        //remove 2 trailing chars\n        this._cbs.oncomment(\n            this._buffer.substring(this._sectionStart, this._index - 2)\n        );\n        this._state = TEXT;\n        this._sectionStart = this._index + 1;\n    } else if (c !== \"-\") {\n        this._state = IN_COMMENT;\n    }\n    // else: stay in AFTER_COMMENT_2 (`--->`)\n};\n\nTokenizer.prototype._stateBeforeCdata1 = ifElseState(\n    \"C\",\n    BEFORE_CDATA_2,\n    IN_DECLARATION\n);\nTokenizer.prototype._stateBeforeCdata2 = ifElseState(\n    \"D\",\n    BEFORE_CDATA_3,\n    IN_DECLARATION\n);\nTokenizer.prototype._stateBeforeCdata3 = ifElseState(\n    \"A\",\n    BEFORE_CDATA_4,\n    IN_DECLARATION\n);\nTokenizer.prototype._stateBeforeCdata4 = ifElseState(\n    \"T\",\n    BEFORE_CDATA_5,\n    IN_DECLARATION\n);\nTokenizer.prototype._stateBeforeCdata5 = ifElseState(\n    \"A\",\n    BEFORE_CDATA_6,\n    IN_DECLARATION\n);\n\nTokenizer.prototype._stateBeforeCdata6 = function(c) {\n    if (c === \"[\") {\n        this._state = IN_CDATA;\n        this._sectionStart = this._index + 1;\n    } else {\n        this._state = IN_DECLARATION;\n        this._index--;\n    }\n};\n\nTokenizer.prototype._stateInCdata = function(c) {\n    if (c === \"]\") this._state = AFTER_CDATA_1;\n};\n\nTokenizer.prototype._stateAfterCdata1 = function(c) {\n    if (c === \"]\") this._state = AFTER_CDATA_2;\n    else this._state = IN_CDATA;\n};\n\nTokenizer.prototype._stateAfterCdata2 = function(c) {\n    if (c === \">\") {\n        //remove 2 trailing chars\n        this._cbs.oncdata(\n            this._buffer.substring(this._sectionStart, this._index - 2)\n        );\n        this._state = TEXT;\n        this._sectionStart = this._index + 1;\n    } else if (c !== \"]\") {\n        this._state = IN_CDATA;\n    }\n    //else: stay in AFTER_CDATA_2 (`]]]>`)\n};\n\nTokenizer.prototype._stateBeforeSpecial = function(c) {\n    if (c === \"c\" || c === \"C\") {\n        this._state = BEFORE_SCRIPT_1;\n    } else if (c === \"t\" || c === \"T\") {\n        this._state = BEFORE_STYLE_1;\n    } else {\n        this._state = IN_TAG_NAME;\n        this._index--; //consume the token again\n    }\n};\n\nTokenizer.prototype._stateBeforeSpecialEnd = function(c) {\n    if (this._special === SPECIAL_SCRIPT && (c === \"c\" || c === \"C\")) {\n        this._state = AFTER_SCRIPT_1;\n    } else if (this._special === SPECIAL_STYLE && (c === \"t\" || c === \"T\")) {\n        this._state = AFTER_STYLE_1;\n    } else this._state = TEXT;\n};\n\nTokenizer.prototype._stateBeforeScript1 = consumeSpecialNameChar(\n    \"R\",\n    BEFORE_SCRIPT_2\n);\nTokenizer.prototype._stateBeforeScript2 = consumeSpecialNameChar(\n    \"I\",\n    BEFORE_SCRIPT_3\n);\nTokenizer.prototype._stateBeforeScript3 = consumeSpecialNameChar(\n    \"P\",\n    BEFORE_SCRIPT_4\n);\nTokenizer.prototype._stateBeforeScript4 = consumeSpecialNameChar(\n    \"T\",\n    BEFORE_SCRIPT_5\n);\n\nTokenizer.prototype._stateBeforeScript5 = function(c) {\n    if (c === \"/\" || c === \">\" || whitespace(c)) {\n        this._special = SPECIAL_SCRIPT;\n    }\n    this._state = IN_TAG_NAME;\n    this._index--; //consume the token again\n};\n\nTokenizer.prototype._stateAfterScript1 = ifElseState(\"R\", AFTER_SCRIPT_2, TEXT);\nTokenizer.prototype._stateAfterScript2 = ifElseState(\"I\", AFTER_SCRIPT_3, TEXT);\nTokenizer.prototype._stateAfterScript3 = ifElseState(\"P\", AFTER_SCRIPT_4, TEXT);\nTokenizer.prototype._stateAfterScript4 = ifElseState(\"T\", AFTER_SCRIPT_5, TEXT);\n\nTokenizer.prototype._stateAfterScript5 = function(c) {\n    if (c === \">\" || whitespace(c)) {\n        this._special = SPECIAL_NONE;\n        this._state = IN_CLOSING_TAG_NAME;\n        this._sectionStart = this._index - 6;\n        this._index--; //reconsume the token\n    } else this._state = TEXT;\n};\n\nTokenizer.prototype._stateBeforeStyle1 = consumeSpecialNameChar(\n    \"Y\",\n    BEFORE_STYLE_2\n);\nTokenizer.prototype._stateBeforeStyle2 = consumeSpecialNameChar(\n    \"L\",\n    BEFORE_STYLE_3\n);\nTokenizer.prototype._stateBeforeStyle3 = consumeSpecialNameChar(\n    \"E\",\n    BEFORE_STYLE_4\n);\n\nTokenizer.prototype._stateBeforeStyle4 = function(c) {\n    if (c === \"/\" || c === \">\" || whitespace(c)) {\n        this._special = SPECIAL_STYLE;\n    }\n    this._state = IN_TAG_NAME;\n    this._index--; //consume the token again\n};\n\nTokenizer.prototype._stateAfterStyle1 = ifElseState(\"Y\", AFTER_STYLE_2, TEXT);\nTokenizer.prototype._stateAfterStyle2 = ifElseState(\"L\", AFTER_STYLE_3, TEXT);\nTokenizer.prototype._stateAfterStyle3 = ifElseState(\"E\", AFTER_STYLE_4, TEXT);\n\nTokenizer.prototype._stateAfterStyle4 = function(c) {\n    if (c === \">\" || whitespace(c)) {\n        this._special = SPECIAL_NONE;\n        this._state = IN_CLOSING_TAG_NAME;\n        this._sectionStart = this._index - 5;\n        this._index--; //reconsume the token\n    } else this._state = TEXT;\n};\n\nTokenizer.prototype._stateBeforeEntity = ifElseState(\n    \"#\",\n    BEFORE_NUMERIC_ENTITY,\n    IN_NAMED_ENTITY\n);\nTokenizer.prototype._stateBeforeNumericEntity = ifElseState(\n    \"X\",\n    IN_HEX_ENTITY,\n    IN_NUMERIC_ENTITY\n);\n\n//for entities terminated with a semicolon\nTokenizer.prototype._parseNamedEntityStrict = function() {\n    //offset = 1\n    if (this._sectionStart + 1 < this._index) {\n        var entity = this._buffer.substring(\n                this._sectionStart + 1,\n                this._index\n            ),\n            map = this._xmlMode ? xmlMap : entityMap;\n\n        if (map.hasOwnProperty(entity)) {\n            this._emitPartial(map[entity]);\n            this._sectionStart = this._index + 1;\n        }\n    }\n};\n\n//parses legacy entities (without trailing semicolon)\nTokenizer.prototype._parseLegacyEntity = function() {\n    var start = this._sectionStart + 1,\n        limit = this._index - start;\n\n    if (limit > 6) limit = 6; //the max length of legacy entities is 6\n\n    while (limit >= 2) {\n        //the min length of legacy entities is 2\n        var entity = this._buffer.substr(start, limit);\n\n        if (legacyMap.hasOwnProperty(entity)) {\n            this._emitPartial(legacyMap[entity]);\n            this._sectionStart += limit + 1;\n            return;\n        } else {\n            limit--;\n        }\n    }\n};\n\nTokenizer.prototype._stateInNamedEntity = function(c) {\n    if (c === \";\") {\n        this._parseNamedEntityStrict();\n        if (this._sectionStart + 1 < this._index && !this._xmlMode) {\n            this._parseLegacyEntity();\n        }\n        this._state = this._baseState;\n    } else if (\n        (c < \"a\" || c > \"z\") &&\n        (c < \"A\" || c > \"Z\") &&\n        (c < \"0\" || c > \"9\")\n    ) {\n        if (this._xmlMode);\n        else if (this._sectionStart + 1 === this._index);\n        else if (this._baseState !== TEXT) {\n            if (c !== \"=\") {\n                this._parseNamedEntityStrict();\n            }\n        } else {\n            this._parseLegacyEntity();\n        }\n\n        this._state = this._baseState;\n        this._index--;\n    }\n};\n\nTokenizer.prototype._decodeNumericEntity = function(offset, base) {\n    var sectionStart = this._sectionStart + offset;\n\n    if (sectionStart !== this._index) {\n        //parse entity\n        var entity = this._buffer.substring(sectionStart, this._index);\n        var parsed = parseInt(entity, base);\n\n        this._emitPartial(decodeCodePoint(parsed));\n        this._sectionStart = this._index;\n    } else {\n        this._sectionStart--;\n    }\n\n    this._state = this._baseState;\n};\n\nTokenizer.prototype._stateInNumericEntity = function(c) {\n    if (c === \";\") {\n        this._decodeNumericEntity(2, 10);\n        this._sectionStart++;\n    } else if (c < \"0\" || c > \"9\") {\n        if (!this._xmlMode) {\n            this._decodeNumericEntity(2, 10);\n        } else {\n            this._state = this._baseState;\n        }\n        this._index--;\n    }\n};\n\nTokenizer.prototype._stateInHexEntity = function(c) {\n    if (c === \";\") {\n        this._decodeNumericEntity(3, 16);\n        this._sectionStart++;\n    } else if (\n        (c < \"a\" || c > \"f\") &&\n        (c < \"A\" || c > \"F\") &&\n        (c < \"0\" || c > \"9\")\n    ) {\n        if (!this._xmlMode) {\n            this._decodeNumericEntity(3, 16);\n        } else {\n            this._state = this._baseState;\n        }\n        this._index--;\n    }\n};\n\nTokenizer.prototype._cleanup = function() {\n    if (this._sectionStart < 0) {\n        this._buffer = \"\";\n        this._bufferOffset += this._index;\n        this._index = 0;\n    } else if (this._running) {\n        if (this._state === TEXT) {\n            if (this._sectionStart !== this._index) {\n                this._cbs.ontext(this._buffer.substr(this._sectionStart));\n            }\n            this._buffer = \"\";\n            this._bufferOffset += this._index;\n            this._index = 0;\n        } else if (this._sectionStart === this._index) {\n            //the section just started\n            this._buffer = \"\";\n            this._bufferOffset += this._index;\n            this._index = 0;\n        } else {\n            //remove everything unnecessary\n            this._buffer = this._buffer.substr(this._sectionStart);\n            this._index -= this._sectionStart;\n            this._bufferOffset += this._sectionStart;\n        }\n\n        this._sectionStart = 0;\n    }\n};\n\n//TODO make events conditional\nTokenizer.prototype.write = function(chunk) {\n    if (this._ended) this._cbs.onerror(Error(\".write() after done!\"));\n\n    this._buffer += chunk;\n    this._parse();\n};\n\nTokenizer.prototype._parse = function() {\n    while (this._index < this._buffer.length && this._running) {\n        var c = this._buffer.charAt(this._index);\n        if (this._state === TEXT) {\n            this._stateText(c);\n        } else if (this._state === BEFORE_TAG_NAME) {\n            this._stateBeforeTagName(c);\n        } else if (this._state === IN_TAG_NAME) {\n            this._stateInTagName(c);\n        } else if (this._state === BEFORE_CLOSING_TAG_NAME) {\n            this._stateBeforeCloseingTagName(c);\n        } else if (this._state === IN_CLOSING_TAG_NAME) {\n            this._stateInCloseingTagName(c);\n        } else if (this._state === AFTER_CLOSING_TAG_NAME) {\n            this._stateAfterCloseingTagName(c);\n        } else if (this._state === IN_SELF_CLOSING_TAG) {\n            this._stateInSelfClosingTag(c);\n        } else if (this._state === BEFORE_ATTRIBUTE_NAME) {\n\n        /*\n\t\t*\tattributes\n\t\t*/\n            this._stateBeforeAttributeName(c);\n        } else if (this._state === IN_ATTRIBUTE_NAME) {\n            this._stateInAttributeName(c);\n        } else if (this._state === AFTER_ATTRIBUTE_NAME) {\n            this._stateAfterAttributeName(c);\n        } else if (this._state === BEFORE_ATTRIBUTE_VALUE) {\n            this._stateBeforeAttributeValue(c);\n        } else if (this._state === IN_ATTRIBUTE_VALUE_DQ) {\n            this._stateInAttributeValueDoubleQuotes(c);\n        } else if (this._state === IN_ATTRIBUTE_VALUE_SQ) {\n            this._stateInAttributeValueSingleQuotes(c);\n        } else if (this._state === IN_ATTRIBUTE_VALUE_NQ) {\n            this._stateInAttributeValueNoQuotes(c);\n        } else if (this._state === BEFORE_DECLARATION) {\n\n        /*\n\t\t*\tdeclarations\n\t\t*/\n            this._stateBeforeDeclaration(c);\n        } else if (this._state === IN_DECLARATION) {\n            this._stateInDeclaration(c);\n        } else if (this._state === IN_PROCESSING_INSTRUCTION) {\n\n        /*\n\t\t*\tprocessing instructions\n\t\t*/\n            this._stateInProcessingInstruction(c);\n        } else if (this._state === BEFORE_COMMENT) {\n\n        /*\n\t\t*\tcomments\n\t\t*/\n            this._stateBeforeComment(c);\n        } else if (this._state === IN_COMMENT) {\n            this._stateInComment(c);\n        } else if (this._state === AFTER_COMMENT_1) {\n            this._stateAfterComment1(c);\n        } else if (this._state === AFTER_COMMENT_2) {\n            this._stateAfterComment2(c);\n        } else if (this._state === BEFORE_CDATA_1) {\n\n        /*\n\t\t*\tcdata\n\t\t*/\n            this._stateBeforeCdata1(c);\n        } else if (this._state === BEFORE_CDATA_2) {\n            this._stateBeforeCdata2(c);\n        } else if (this._state === BEFORE_CDATA_3) {\n            this._stateBeforeCdata3(c);\n        } else if (this._state === BEFORE_CDATA_4) {\n            this._stateBeforeCdata4(c);\n        } else if (this._state === BEFORE_CDATA_5) {\n            this._stateBeforeCdata5(c);\n        } else if (this._state === BEFORE_CDATA_6) {\n            this._stateBeforeCdata6(c);\n        } else if (this._state === IN_CDATA) {\n            this._stateInCdata(c);\n        } else if (this._state === AFTER_CDATA_1) {\n            this._stateAfterCdata1(c);\n        } else if (this._state === AFTER_CDATA_2) {\n            this._stateAfterCdata2(c);\n        } else if (this._state === BEFORE_SPECIAL) {\n\n        /*\n\t\t* special tags\n\t\t*/\n            this._stateBeforeSpecial(c);\n        } else if (this._state === BEFORE_SPECIAL_END) {\n            this._stateBeforeSpecialEnd(c);\n        } else if (this._state === BEFORE_SCRIPT_1) {\n\n        /*\n\t\t* script\n\t\t*/\n            this._stateBeforeScript1(c);\n        } else if (this._state === BEFORE_SCRIPT_2) {\n            this._stateBeforeScript2(c);\n        } else if (this._state === BEFORE_SCRIPT_3) {\n            this._stateBeforeScript3(c);\n        } else if (this._state === BEFORE_SCRIPT_4) {\n            this._stateBeforeScript4(c);\n        } else if (this._state === BEFORE_SCRIPT_5) {\n            this._stateBeforeScript5(c);\n        } else if (this._state === AFTER_SCRIPT_1) {\n            this._stateAfterScript1(c);\n        } else if (this._state === AFTER_SCRIPT_2) {\n            this._stateAfterScript2(c);\n        } else if (this._state === AFTER_SCRIPT_3) {\n            this._stateAfterScript3(c);\n        } else if (this._state === AFTER_SCRIPT_4) {\n            this._stateAfterScript4(c);\n        } else if (this._state === AFTER_SCRIPT_5) {\n            this._stateAfterScript5(c);\n        } else if (this._state === BEFORE_STYLE_1) {\n\n        /*\n\t\t* style\n\t\t*/\n            this._stateBeforeStyle1(c);\n        } else if (this._state === BEFORE_STYLE_2) {\n            this._stateBeforeStyle2(c);\n        } else if (this._state === BEFORE_STYLE_3) {\n            this._stateBeforeStyle3(c);\n        } else if (this._state === BEFORE_STYLE_4) {\n            this._stateBeforeStyle4(c);\n        } else if (this._state === AFTER_STYLE_1) {\n            this._stateAfterStyle1(c);\n        } else if (this._state === AFTER_STYLE_2) {\n            this._stateAfterStyle2(c);\n        } else if (this._state === AFTER_STYLE_3) {\n            this._stateAfterStyle3(c);\n        } else if (this._state === AFTER_STYLE_4) {\n            this._stateAfterStyle4(c);\n        } else if (this._state === BEFORE_ENTITY) {\n\n        /*\n\t\t* entities\n\t\t*/\n            this._stateBeforeEntity(c);\n        } else if (this._state === BEFORE_NUMERIC_ENTITY) {\n            this._stateBeforeNumericEntity(c);\n        } else if (this._state === IN_NAMED_ENTITY) {\n            this._stateInNamedEntity(c);\n        } else if (this._state === IN_NUMERIC_ENTITY) {\n            this._stateInNumericEntity(c);\n        } else if (this._state === IN_HEX_ENTITY) {\n            this._stateInHexEntity(c);\n        } else {\n            this._cbs.onerror(Error(\"unknown _state\"), this._state);\n        }\n\n        this._index++;\n    }\n\n    this._cleanup();\n};\n\nTokenizer.prototype.pause = function() {\n    this._running = false;\n};\nTokenizer.prototype.resume = function() {\n    this._running = true;\n\n    if (this._index < this._buffer.length) {\n        this._parse();\n    }\n    if (this._ended) {\n        this._finish();\n    }\n};\n\nTokenizer.prototype.end = function(chunk) {\n    if (this._ended) this._cbs.onerror(Error(\".end() after done!\"));\n    if (chunk) this.write(chunk);\n\n    this._ended = true;\n\n    if (this._running) this._finish();\n};\n\nTokenizer.prototype._finish = function() {\n    //if there is remaining data, emit it in a reasonable way\n    if (this._sectionStart < this._index) {\n        this._handleTrailingData();\n    }\n\n    this._cbs.onend();\n};\n\nTokenizer.prototype._handleTrailingData = function() {\n    var data = this._buffer.substr(this._sectionStart);\n\n    if (\n        this._state === IN_CDATA ||\n        this._state === AFTER_CDATA_1 ||\n        this._state === AFTER_CDATA_2\n    ) {\n        this._cbs.oncdata(data);\n    } else if (\n        this._state === IN_COMMENT ||\n        this._state === AFTER_COMMENT_1 ||\n        this._state === AFTER_COMMENT_2\n    ) {\n        this._cbs.oncomment(data);\n    } else if (this._state === IN_NAMED_ENTITY && !this._xmlMode) {\n        this._parseLegacyEntity();\n        if (this._sectionStart < this._index) {\n            this._state = this._baseState;\n            this._handleTrailingData();\n        }\n    } else if (this._state === IN_NUMERIC_ENTITY && !this._xmlMode) {\n        this._decodeNumericEntity(2, 10);\n        if (this._sectionStart < this._index) {\n            this._state = this._baseState;\n            this._handleTrailingData();\n        }\n    } else if (this._state === IN_HEX_ENTITY && !this._xmlMode) {\n        this._decodeNumericEntity(3, 16);\n        if (this._sectionStart < this._index) {\n            this._state = this._baseState;\n            this._handleTrailingData();\n        }\n    } else if (\n        this._state !== IN_TAG_NAME &&\n        this._state !== BEFORE_ATTRIBUTE_NAME &&\n        this._state !== BEFORE_ATTRIBUTE_VALUE &&\n        this._state !== AFTER_ATTRIBUTE_NAME &&\n        this._state !== IN_ATTRIBUTE_NAME &&\n        this._state !== IN_ATTRIBUTE_VALUE_SQ &&\n        this._state !== IN_ATTRIBUTE_VALUE_DQ &&\n        this._state !== IN_ATTRIBUTE_VALUE_NQ &&\n        this._state !== IN_CLOSING_TAG_NAME\n    ) {\n        this._cbs.ontext(data);\n    }\n    //else, ignore remaining data\n    //TODO add a way to remove current tag\n};\n\nTokenizer.prototype.reset = function() {\n    Tokenizer.call(\n        this,\n        { xmlMode: this._xmlMode, decodeEntities: this._decodeEntities },\n        this._cbs\n    );\n};\n\nTokenizer.prototype.getAbsoluteIndex = function() {\n    return this._bufferOffset + this._index;\n};\n\nTokenizer.prototype._getSection = function() {\n    return this._buffer.substring(this._sectionStart, this._index);\n};\n\nTokenizer.prototype._emitToken = function(name) {\n    this._cbs[name](this._getSection());\n    this._sectionStart = -1;\n};\n\nTokenizer.prototype._emitPartial = function(value) {\n    if (this._baseState !== TEXT) {\n        this._cbs.onattribdata(value); //TODO implement the new event\n    } else {\n        this._cbs.ontext(value);\n    }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}